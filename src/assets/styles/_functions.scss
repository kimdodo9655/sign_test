// _functions.scss

@use "sass:math";

/* ***********************************
 * FLUID SIZE FUNCTION
 * 반응형 크기 계산 - 타이포그래피, 간격, 레이아웃용
 * *********************************** */

/**
 * 지정된 뷰포트 범위 내에서 비례적으로 크기가 변하는 값을 생성합니다.
 * 
 * @param {Number} $max-size - 최대 뷰포트에서의 크기 (단위 포함)
 * @param {Number} $min-viewport - 최소 뷰포트 너비 (기본값: 1024px)
 * @param {Number} $max-viewport - 최대 뷰포트 너비 (기본값: 1400px)
 * @return {String} - clamp() 함수로 계산된 반응형 크기
 * 
 * @example
 *   font-size: fluid-size(48px);
 *   // 결과: clamp(35.14px, 3.43vw, 48px)
 *   // 1024px: 35.14px
 *   // 1200px: ~41px
 *   // 1400px: 48px
 * 
 * @example
 *   width: fluid-size(1400px);
 *   padding: fluid-size(80px);
 *   gap: fluid-size(20px);
 */
@function fluid-size($max-size, $min-viewport: 1024px, $max-viewport: 1400px) {
  // 최소 크기 계산 (비례)
  $min-size: $max-size * math.div($min-viewport, $max-viewport);

  // vw 값 계산
  $vw-value: math.div($max-size, $max-viewport) * 100;

  // clamp()로 최소값, 선호값, 최대값 설정
  @return clamp(#{$min-size}, #{$vw-value}vw, #{$max-size});
}

/* ***********************************
 * HELPER FUNCTIONS (선택적)
 * *********************************** */

/**
 * 두 값의 비율을 퍼센트로 계산합니다.
 * Grid 또는 Flex에서 비율 기반 레이아웃을 만들 때 유용합니다.
 * 
 * @param {Number} $part - 부분 값
 * @param {Number} $whole - 전체 값
 * @return {Percentage} - 계산된 비율 (%)
 * 
 * @example
 *   width: calculate-ratio(390px, 1400px);
 *   // 결과: 27.857%
 */
@function calculate-ratio($part, $whole) {
  @return math.div($part, $whole) * 100%;
}

/* ***********************************
* (구) SCSS FUNCTION
* *********************************** */
// @function fluid-size($max-size, $min-viewport: 1024px, $max-viewport: 1400px) {
//   $min-size: $max-size * math.div($min-viewport, $max-viewport);
//   $vw-value: math.div($max-size, $max-viewport) * 100vw;

//   @return min(max(#{$min-size}, #{$vw-value}), #{$max-size});
// }
